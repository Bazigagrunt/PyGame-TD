## 1. Global Configuration & Constants

These variables are set at the start and do not change during gameplay. They define the "rules" and appearance of the game world.

| Variable | Purpose |
| --- | --- |
| `SCREEN_WIDTH` / `HEIGHT` | The actual size of the window on your computer monitor. |
| `LOGICAL_WIDTH` / `HEIGHT` | The internal resolution (600x400) where the game is "drawn" before being stretched to fit the window. |
| `FPS` | Frames Per Second; controls how fast the game loop runs. |
| `COLOR_...` | RGB tuples (like `COLOR_RED`) used for drawing shapes and text. |
| `SPRITE_DATA` | A dictionary containing ASCII art strings used to generate the pixel graphics. |
| `TOWER_STATS` | Defines base properties for each tower (cost, range, damage, cooldown). |
| `TOWER_PASSIVES` | A nested list of upgrade options available for each tower type. |
| `LEVELS` | A list of dictionaries containing path coordinates, build spots, and enemy wave data. |

---

## 2. Game Engine Variables (`Game` Class)

These variables manage the "State" of the overall applicationâ€”tracking your progress, your money, and what is currently happening on screen.

### State & Resources

* **`self.state`**: Tracks if the player is in the `MENU`, `PLAYING`, or has reached `GAME_OVER`.
* **`self.gold`**: The player's currency used to buy and upgrade towers.
* **`self.lives`**: How many enemies can reach the end of the path before you lose.
* **`self.current_level`**: Stores the data dictionary of the level currently being played.

### Entity Tracking

* **`self.towers`**: A list of all `Tower` objects currently placed on the map.
* **`self.enemies`**: A list of all `Enemy` objects currently alive on the map.
* **`self.projectiles`**: A list of all active bullets/arrows/rocks in flight.

### Wave Logic

* **`self.wave_index`**: Which wave of the level you are currently on.
* **`self.wave_active`**: A Boolean (True/False) that determines if enemies should currently be spawning.
* **`self.spawned_count`**: Tracks how many enemies from the current wave have already entered the map.
* **`self.wave_timer`**: A counter used to space out enemy spawns based on an interval.

### UI & Interaction

* **`self.selected_spot_idx`**: Remembers which empty build spot the player clicked on.
* **`self.selected_tower`**: Remembers which specific tower the player is currently inspecting for upgrades.
* **`self.ui_rects`**: A dictionary of `pygame.Rect` objects used to detect if the mouse clicked a button.
* **`self.tooltip`**: Stores a tuple of text (Title, Description, etc.) to show when hovering over a button.

---

## 3. Entity Attributes

These variables belong to the specific objects moving or acting within the game.

### Enemy Variables

* **`self.path_index`**: Which point in the level path the enemy is currently walking toward.
* **`self.hp` / `self.max_hp**`: Current and starting health points.
* **`self.frozen_timer`**: How long the enemy remains slowed down by "Sap."
* **`self.frozen_factor`**: A multiplier (e.g., 0.5) that reduces the enemy's speed.
* **`self.skill_cooldown`**: Specifically for the **Shaman**, tracks when it can next disable a tower.

### Tower Variables

* **`self.level`**: The current upgrade tier (1 through 4).
* **`self.cooldown_timer`**: Counts down to zero after every shot; the tower can only fire when this is 0.
* **`self.disabled_timer`**: If greater than 0, the tower is "stunned" and cannot fire (caused by Shamans).
* **`self.passives`**: A list of unique IDs (like `MULTI_SHOT`) the player has purchased for this specific tower.

### Projectile Variables

* **`self.target`**: A reference to the specific `Enemy` object the projectile is chasing.
* **`self.passives_snapshot`**: A copy of the tower's upgrades at the moment the shot was fired (ensuring the bullet keeps its effects even if the tower is upgraded mid-flight).

---

### Variable Math Example: Distance Logic

To determine if an enemy is in range, the code uses a distance formula based on the variables  and :

This is handled by the `get_distance` function using the `math` library.